# 03 OSI 2계층

> Data-Link : 물리적인 연결, 흐름제어, 에러 제어
>
> ➡ **Ethernet(이더넷)**

가까이 있는 컴퓨터끼리 데이터를 주고 받을 때



## 2계층 역할

- 하나의 네트워크 대역(=같은 네트워크 상)에 존재하는 여러 장비(노드)들 중에서 **어떤 장비**가 **어떤 장비**에게 데이터를 전달하는지 알 수 있다.
- ✅  **오류 제어** : 전달하는 데이터에 오류가 있는지 없는지 제어
- ✅  **흐름 제어** : 누가 누구에게 데이터를 보내는지 흐름을 제어
- 같은 네트워크 대역(LAN)에 통신할 때 만 사용한다.
  - 만약 <u>다른 네트워크 대역</u>과 통신하고 싶다면 항상 **3계층**이 도와주어야 한다.
  - 3계층의 주소와 3계층의 프로토콜을 이용해야만 다른 네트워크와 통신이 가능하다.

[^OSI 3계층]: 네트워크. 라우팅, 목적지까지 데이터를 전송, ICMP, IP, ARP 프로토콜



## 2계층 주소

> MAC주소 (= 물리적인 주소)
>
> 실질적인 물리적 장비가 부여받은 고유한 주소값

<img src="03 OSI 2계층.assets/image-20220311004602530.png" style="zoom: 80%;"  >

- 3, 4계층 주소체계는 매우 중요한데 2계층은 상대적으로 중요성이 떨어짐
- cmd 창의 `물리적 주소` 가 MAC주소를 의미한다. 총 12개의 **16진수**로 이루어져있다.
  - OUI : IEEE에서 부여하는 일종의 제조회사 식별ID (MAC주소를 부여한 *제조사*의 고유번호)
  - 고유번호 : 제조사에서 부여한 고유번호
- 전 세계에 있는 모든 장비들이 서로 다른 주소를 가진다.
- 하드웨어에 직접적으로 부여되는 값이므로 쉽게 바꿀 수 없다. 고유한 값을 가진다.
  	



## :star:2계층 프로토콜(=이더넷)

> LAN에서 통신할 때 사용하는 Ethernet 프로토콜



<img src="03 OSI 2계층.assets/image-20220311002159029.png" alt="네트워크 모델 상세 표" style="zoom:80%;" >

- 총 14 byte (6 + 6 + 2)

- 누군가와 통신할 때 "받는사람"(=목적지)의 MAC주소가 `Destination Address`이다.

- 출발지 MAC주소가 `Source Address` 이다.

- 목적지, 출발지 MAC주소 모두 6 byte로 총 12 byte가 된다.

- `Ethernet Type` (중요도 낮음)

  - 상위 프로토콜이 뭔지 알려주는 것! Ethernet 프로토콜에만 있는게 아니라 다른 프로토콜에서도 상위 프로토콜이 뭔지 알려준다.
  - 데이터(=페이로드) 안에 상위 프로토콜 내용이 있을테니(=encapsulation 때문에), 미리 3계층의 프로토콜을 알려준다.
  - 받는 쪽 입장에선 이더넷 프로토콜을 받고 분석을 하고, 페이로드를 열어야할 때  IP인지 ARP인지 미리 알고있으면 분석을 하기가 좀 더 편안하다. 
  - 이걸 알려주지 않으면 페이로드가 무엇인지 알 수 없다.
  - 2계층(이더넷)에 상위 프로토콜로 올 수 있는 것은  `ARR`, `IPv4` 프로토콜이다.
    - IPv4이면 Ethernet Type = `0800`
    - ARP라면 Ethernet Type = `0806`

- > 이더넷 프로토콜 = `Destination Address` + `SourceAddress`  +`Ethernet Type`

- 보내는 사람의 MAC주소가 `AA:AA:AA:AA:AA:AA` 이고, 받는 사람의 MAC주소가 `BB:BB:BB:BB:BB:BB` 일 때, 16진수 12개씩 각각 6byte를 채운다.

<img src="03 OSI 2계층.assets/image-20220311003435104.png" alt="네트워크 모델 상세 표" >

